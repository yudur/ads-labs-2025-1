<div class="p-6">
    <h1 class="primary-title">Gerenciamento de Pratos</h1>

    @if (!editing()) {
        <app-add-button (click)="buildForm()" textButton="Adicionar Novo Prato"></app-add-button>

        <app-generic-table
            [data]="dishes()"
            [columns]="[
                { key: 'id', label: 'ID' },
                { key: 'name', label: 'Nome' },
                { key: 'price', label: 'Preço' }
            ]"
            (edit)="buildForm($event)"
            (delete)="onDelete($event)"
        />
    } @else {
        <app-generic-form
            [form]="form"
            [title]="selectedDish()?.id ? 'Editar Prato' : 'Novo Prato'"
            [fields]="[
                { name: 'name', label: 'Nome' },
                { name: 'price', label: 'Preço', type: 'number' }
            ]"
            (cancel)="cancelEdit()"
            (save)="onSubmit()"
        />
    }
</div>